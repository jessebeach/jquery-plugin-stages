<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>jQuery Plugin Stages</title>
    <meta name="viewport" content="width=device-width, minimum-scale=1, maximum-scale=1" />
    <link href='http://fonts.googleapis.com/css?family=Muli:300,400' rel='stylesheet' type='text/css' />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <!-- <script src="/libs/jquery.js"></script> -->
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <style>
    	body {
        background-color: #fffafc;
        color: #2f2f2f;
        font-family: 'Muli', sans-serif;
        font-size: 2rem;
        padding: 16px;
        margin: 1rem;
        text-shadow: 0px 1px 0px white;
			}
    	a {
    		text-decoration: none;
    	}
    	li + li {
				margin-top: 0.3333rem;
			}
			h1,
			h2 {
				margin-bottom: 0;
			}
			h2 {
				margin-top: 1.2467rem;
			}
			h2 + * {
				margin-top: 0.83rem;
			}
    </style>
  </head>
  <body>
    <div class="output"></div>
    <ul>
      <li>Apples</li>
      <li>Bananas</li>
      <li>Mangos</li>
      <li>Limes</li>
    </ul>
  
<script>
// Define our plugin.
(function($){
  $.fn.listShuffler = function () {
    // The jQuery chain passes us a jQuery object as 'this'.
    // We iterate through them individually.
    this.each(function(index, item) {
      // 'this' is now a DOM element, so we need to wrap
      // it in a jQuery object with $().
      var $this = $(this);
      $this
      .css('outline', '1px dotted red');
    });
  }
}(jQuery));


// Invoke our plugin.
$(document).ready(function (event) {
  var $items = $('ul li');
  var $shuffled = $items.listShuffler();
  $shuffled.css('background-color', 'lightblue');
});
  
</script>
  </body>
</html>